{
	"$schema": "http://json-schema.org/draft-07/schema#",
	"definitions": {
		"style": {
			"type": "string",
			"enum": ["default", "wave1", "wave2", "flat", "shadow", "bordered"],
			"description": "Determines the style of the widget."
		},
		"anchor": {
			"type": "string",
			"enum": [
				"center-left",
				"center",
				"center-right",
				"top",
				"top-right",
				"top-center",
				"top-left",
				"bottom-left",
				"bottom-center",
				"bottom-right"
			],
			"description": "Specifies the anchor position of the widget."
		},
		"baseProperties": {
			"icon_size": {
				"type": "string",
				"pattern": "^[0-9]+px$",
				"description": "Specifies the size of the widget icon."
			},
			"label": {
				"type": "boolean",
				"description": "Determines whether the widget has a label."
			},
			"tooltip": {
				"type": "boolean",
				"description": "Determines whether the widget has a tooltip."
			}
		},
		"widgets": {
			"type": "array",
			"items": {
				"anyOf": [
					{
						"type": "string",
						"enum": [
							"battery",
							"bluetooth",
							"brightness",
							"cava",
							"click_counter",
							"cpu",
							"date_time",
							"divider",
							"hypr_idle",
							"hypr_sunset",
							"hypr_picker",
							"keyboard",
							"language",
							"media",
							"microphone",
							"network_usage",
							"ocr",
							"power",
							"ram",
							"recorder",
							"spacer",
							"storage",
							"submap",
							"stop_watch",
							"system_tray",
							"task_bar",
							"updates",
							"volume",
							"weather",
							"window_title",
							"workspaces",
							"quick_settings",
							"theme_switcher"
						],
						"description": "Specifies the widget to display."
					},
					{
						"type": "string",
						"pattern": "^@group:\\d+$",
						"description": "Specifies a group of widgets to display."
					}
				]
			}
		}
	},
	"type": "object",
	"properties": {
		"theme": {
			"type": "object",
			"properties": {
				"name": {
					"type": "string",
					"enum": [
						"abyssgreen",
						"catpuccin-frappe",
						"catpuccin-latte",
						"catpuccin-macchiato",
						"catpuccin-mocha",
						"cobalt2",
						"cyberdream",
						"cyberpunk",
						"decay-green",
						"dracula",
						"earthy",
						"everforest",
						"gotham-dark",
						"graphite-mono",
						"green-lush",
						"greenify",
						"gruvbox-material",
						"gruvbox",
						"kanagawa",
						"mojave",
						"monochrome",
						"neon",
						"nightfox",
						"nightowl",
						"nord",
						"nordic",
						"oceanic-next",
						"onedark",
						"poimandres",
						"popcode",
						"rain-dark",
						"rosepine",
						"shades-of-purple",
						"solarized-dark",
						"sonokai",
						"synthwave",
						"tokyonight",
						"verminal",
						"zenburn"
					],
					"description": "Specifies the theme to use."
				}
			}
		},
		"general": {
			"type": "object",
			"properties": {
				"screen_corners": {
					"type": "object",
					"properties": {
						"enabled": {
							"type": "boolean",
							"description": "Determines whether screen corners are enabled."
						},
						"size": {
							"type": "integer",
							"description": "Specifies the size of the screen corners."
						}
					}
				},
				"desktop_clock": {
					"type": "object",
					"properties": {
						"enabled": {
							"type": "boolean",
							"description": "Determines whether the desktop clock is enabled."
						},
						"anchor": {
							"$ref": "#/definitions/anchor",
							"description": "Specifies the anchor position of the desktop clock."
						},
						"date_format": {
							"type": "string",
							"description": "Specifies the format of the date displayed on the desktop clock."
						}
					}
				},
				"debug": {
					"type": "boolean",
					"description": "Determines whether debug mode is enabled."
				},
				"check_updates": {
					"type": "boolean",
					"description": "Determines whether to check for updates on startup."
				},
				"location": {
					"type": "string",
					"enum": ["top", "bottom"],
					"description": "Determines the location of the bar."
				},
				"bar_style": {
					"type": "string",
					"enum": ["default", "floating"],
					"description": "Determines the style of the bar."
				},
				"layer": {
					"type": "string",
					"enum": ["background", "bottom", "top", "overlay"],
					"description": "Determines the layer of the bar."
				},
				"widget_style": {
					"$ref": "#/definitions/style"
				}
			}
		},
		"layout": {
			"type": "object",
			"properties": {
				"left_section": {
					"$ref": "#/definitions/widgets"
				},
				"middle_section": {
					"$ref": "#/definitions/widgets"
				},
				"right_section": {
					"$ref": "#/definitions/widgets"
				},
				"module_groups": {
					"type": "array",
					"items": {
						"type": "object",
						"properties": {
							"widgets": {
								"type": "array",
								"items": {
									"$ref": "#/definitions/widgets"
								}
							},
							"spacing": {
								"type": "integer",
								"default": 4,
								"description": "Spacing between widgets in the group"
							},
							"style_classes": {
								"type": "array",
								"items": {
									"type": "string"
								},
								"description": "Style classes to apply to the group (e.g. 'bordered', 'compact')"
							}
						},
						"required": ["widgets"]
					}
				}
			}
		},
		"weather": {
			"type": "object",
			"properties": {
				"detect_location": {
					"type": "boolean",
					"description": "Determines whether to detect the location automatically."
				},
				"location": {
					"type": "string",
					"description": "Specifies the location for the weather widget."
				},
				"label": {
					"type": "boolean",
					"description": "Determines whether the widget has a label."
				},
				"tooltip": {
					"type": "boolean",
					"description": "Determines whether the widget has a tooltip."
				}
			}
		},
		"cava": {
			"type": "object",
			"properties": {
				"bars": {
					"type": "integer",
					"description": "Number of bars to display"
				},
				"color": {
					"type": "string",
					"description": "Color of the bars"
				}
			}
		},
		"hypr_sunset": {
			"type": "object",
			"properties": {
				"$ref": "#/definitions/baseProperties",
				"temperature": {
					"type": "string",
					"pattern": "^[0-9]+k$",
					"description": "Specifies the color temperature for the sunset widget."
				},
				"enabled_icon": {
					"type": "string",
					"description": "Icon to display when the widget is enabled."
				},
				"disabled_icon": {
					"type": "string",
					"description": "Icon to display when the widget is disabled."
				}
			}
		},
		"hypr_idle": {
			"type": "object",
			"properties": {
				"$ref": "#/definitions/baseProperties",
				"enabled_icon": {
					"type": "string",
					"description": "Icon to display when the widget is enabled."
				},
				"disabled_icon": {
					"type": "string",
					"description": "Icon to display when the widget is disabled."
				}
			}
		},
		"microphone": {
			"type": "object",
			"properties": {
				"$ref": "#/definitions/baseProperties"
			}
		},
		"battery": {
			"type": "object",
			"properties": {
				"label": {
					"type": "boolean",
					"description": "Determines whether the widget has a label."
				},
				"tooltip": {
					"type": "boolean",
					"description": "Determines whether the widget has a tooltip."
				}
			}
		},
		"cpu": {
			"type": "object",
			"properties": {
				"$ref": "#/definitions/baseProperties",
				"icon": {
					"type": "string",
					"description": "Icon name from icon theme"
				},
				"unit": {
					"type": "string",
					"enum": ["celsius", "fahrenheit"],
					"description": "Unit to display temperature in"
				},
				"round": {
					"type": "boolean",
					"description": "Determines whether to round the temperature"
				},
				"show_unit": {
					"type": "boolean",
					"description": "Determines whether to show the unit"
				},
				"sensor": {
					"type": "string",
					"description": "Sensor to use for temperature"
				}
			}
		},
		"memory": {
			"type": "object",
			"properties": {
				"$ref": "#/definitions/baseProperties",
				"icon": {
					"type": "string",
					"description": "Icon name from icon theme"
				}
			}
		},
		"storage": {
			"type": "object",
			"properties": {
				"$ref": "#/definitions/baseProperties",
				"icon": {
					"type": "string",
					"description": "Icon name from icon theme"
				}
			}
		},
		"workspaces": {
			"type": "object",
			"properties": {
				"count": {
					"type": "integer",
					"minimum": 1,
					"description": "Number of workspaces to display"
				},
				"hide_unoccupied": {
					"type": "boolean",
					"description": "Hide workspaces that are not in use"
				},
				"reverse_scroll": {
					"type": "boolean",
					"description": "Reverse the scroll direction"
				},
				"empty_scroll": {
					"type": "boolean",
					"description": "Scroll even when there are no workspaces"
				},
				"icon_map": {
					"type": "object",
					"description": "Map workspace IDs to custom labels or icons. Keys are workspace IDs, values are the labels/icons",
					"additionalProperties": {
						"type": "string"
					}
				},
				"default_label_format": {
					"type": "string",
					"description": "Format for workspace labels when not in icon_map. Use '{id}' for workspace number, or any other string/icon",
					"default": "{id}"
				},
				"ignored": {
					"type": "array",
					"items": {
						"type": "integer",
						"description": "List of workspace IDs to ignore"
					}
				}
			}
		},
		"window_title": {
			"type": "object",
			"properties": {
				"enable_icon": {
					"type": "boolean",
					"description": "Determines whether to enable the icon in the window title widget"
				},
				"truncation": {
					"type": "boolean",
					"description": "Determines whether to truncate the window title"
				},
				"truncation_size": {
					"type": "integer",
					"description": "Size at which to truncate the window title"
				},
				"title_map": {
					"type": "array",
					"items": {
						"type": "string",
						"description": "List of window titles to map to custom icons"
					}
				}
			}
		},
		"spacing": {
			"type": "object",
			"properties": {
				"size": {
					"type": "integer",
					"description": "Size of the spacing"
				}
			}
		},
		"divider": {
			"type": "object",
			"properties": {
				"size": {
					"type": "integer",
					"description": "Size of the divider"
				}
			}
		},
		"click_counter": {
			"type": "object",
			"properties": {
				"count": {
					"type": "integer",
					"description": "Number of clicks to count"
				}
			}
		},
		"hypr_picker": {
			"type": "object",
			"properties": {
				"$ref": "#/definitions/baseProperties",
				"icon": {
					"type": "string",
					"description": "Icon name from icon theme"
				}
			}
		},
		"ocr": {
			"type": "object",
			"properties": {
				"$ref": "#/definitions/baseProperties",
				"icon": {
					"type": "string",
					"description": "Icon name from icon theme"
				}
			}
		},
		"updates": {
			"type": "object",
			"properties": {
				"$ref": "#/definitions/baseProperties",
				"os": {
					"type": "string",
					"enum": ["arch", "fedora", "opensuse", "ubuntu"],
					"description": "Specifies the OS to check for updates"
				},
				"interval": {
					"type": "integer",
					"description": "Interval in milliseconds to check for updates"
				}
			}
		},
		"osd": {
			"type": "object",
			"properties": {
				"anchor": {
					"$ref": "#/definitions/anchor",
					"description": "Specifies the anchor position of the OSD"
				},
				"enabled": {
					"type": "boolean",
					"description": "Determines whether the OSD is enabled"
				},
				"duration": {
					"type": "integer",
					"description": "Duration in milliseconds to show the OSD"
				},
				"show_percentage": {
					"type": "boolean",
					"description": "Determines whether to show the percentage in the OSD"
				},
				"style": {
					"$ref": "#/definitions/style"
				}
			}
		},
		"keyboard": {
			"type": "object",
			"properties": {
				"$ref": "#/definitions/baseProperties",
				"icon": {
					"type": "string",
					"description": "Icon name from icon theme"
				}
			}
		},
		"submap": {
			"type": "object",
			"properties": {
				"$ref": "#/definitions/baseProperties",
				"icon": {
					"type": "string",
					"description": "Icon name from icon theme"
				}
			}
		},
		"quick_settings": {
			"type": "object",
			"properties": {
				"media": {
					"type": "object",
					"properties": {
						"ignore": {
							"type": "array",
							"description": "List of media players to ignore",
							"items": {
								"type": "string"
							}
						},
						"truncation_size": {
							"type": "integer",
							"description": "Size at which to truncate the media title"
						},
						"show_album": {
							"type": "boolean",
							"description": "Determines whether to show the album"
						},
						"show_artist": {
							"type": "boolean",
							"description": "Determines whether to show the artist"
						},
						"show_time": {
							"type": "boolean",
							"description": "Determines whether to show the time"
						},
						"show_time_tooltip": {
							"type": "boolean",
							"description": "Determines whether to show the time in the tooltip"
						}
					}
				},
				"shortcuts": {
					"type": "array",
					"maxItems": 4,
					"items": {
						"type": "object",
						"required": ["command"],
						"properties": {
							"icon": {
								"type": "string",
								"description": "Icon name from icon theme"
							},
							"label": {
								"type": "string",
								"description": "Optional text label for the button"
							},
							"command": {
								"type": "string",
								"description": "Command to execute when clicked"
							},
							"tooltip": {
								"type": "string",
								"description": "Optional tooltip text"
							},
							"icon_size": {
								"type": "integer",
								"description": "Icon size in pixels"
							}
						}
					}
				}
			},
			"task_bar": {
				"type": "object",
				"properties": {
					"icon_size": {
						"type": "integer",
						"description": "Size of the task bar icons"
					}
				}
			},
			"language": {
				"type": "object",
				"properties": {
					"truncation_size": {
						"type": "integer",
						"description": "Size at which to truncate the language name"
					}
				}
			},
			"mpris": {
				"type": "object",
				"properties": {
					"truncation_size": {
						"type": "integer",
						"description": "Size at which to truncate the media title"
					},
					"format": {
						"type": "string",
						"description": "Format for the media title"
					}
				}
			},
			"system_tray": {
				"type": "object",
				"properties": {
					"icon_size": {
						"type": "integer",
						"description": "Size of the system tray icons"
					},
					"ignored": {
						"type": "array",
						"description": "List of system tray icons to ignore",
						"items": {
							"type": "string"
						}
					},
					"hidden": {
						"type": "array",
						"description": "List of system tray icons to show only in popover drawer",
						"items": {
							"type": "string"
						}
					}
				}
			},
			"bluetooth": {
				"type": "object",
				"properties": {
					"$ref": "#/definitions/baseProperties"
				}
			},
			"volume": {
				"type": "object",
				"properties": {
					"$ref": "#/definitions/baseProperties",
					"step_size": {
						"type": "integer",
						"description": "Step size for volume control"
					}
				}
			},
			"brightness": {
				"type": "object",
				"properties": {
					"$ref": "#/definitions/baseProperties",
					"step_size": {
						"type": "integer",
						"description": "Step size for brightness control"
					}
				}
			},
			"power": {
				"type": "object",
				"properties": {
					"icon": {
						"type": "string",
						"description": "Icon name from icon theme"
					},
					"icon_size": {
						"type": "string",
						"pattern": "^[0-9]+px$",
						"description": "Size of the power widget icon"
					},
					"tooltip": {
						"type": "boolean",
						"description": "Determines whether the power widget has a tooltip"
					},
					"buttons": {
						"type": "array",
						"items": {
							"type": "string",
							"description": "List of power buttons to display",
							"enum": [
								"logout",
								"reboot",
								"shutdown",
								"suspend",
								"lock",
								"hibernate"
							]
						}
					}
				}
			},
			"theme_switcher": {
				"type": "object",
				"properties": {
					"icon": {
						"type": "string",
						"description": "Icon name from icon theme"
					},
					"icon_size": {
						"type": "string",
						"pattern": "^[0-9]+px$",
						"description": "Size of the theme switcher icon"
					},
					"notify": {
						"type": "boolean",
						"description": "Determines whether to show a notification when the theme is changed"
					}
				}
			},
			"date_time": {
				"type": "object",
				"properties": {
					"format": {
						"type": "string",
						"description": "Specifies the format of the date and time"
					},
					"notification_count": {
						"type": "boolean",
						"description": "Determines whether to show the number of notifications"
					},
					"notification": {
						"type": "boolean",
						"description": "Determines whether to show the notification icon"
					},
					"calendar": {
						"type": "boolean",
						"description": "Determines whether to show the calendar icon"
					},
					"uptime": {
						"type": "boolean",
						"description": "Determines whether to show the uptime"
					},
					"clock_format": {
						"type": "string",
						"enum": ["12h", "24h"],
						"description": "Specifies the clock format"
					}
				}
			},
			"stop_watch": {
				"type": "object",
				"properties": {
					"stopped_icon": {
						"type": "string",
						"description": "Icon to display when the stopwatch is stopped"
					},
					"running_icon": {
						"type": "string",
						"description": "Icon to display when the stopwatch is running"
					},
					"icon_size": {
						"type": "string",
						"pattern": "^[0-9]+px$",
						"description": "Size of the stopwatch icon"
					}
				}
			},
			"notification": {
				"type": "object",
				"properties": {
					"ignored": {
						"type": "array",
						"description": "List of notification IDs to ignore",
						"items": {
							"type": "string"
						}
					},
					"anchor": {
						"$ref": "#/definitions/anchor"
					},
					"auto_dismiss": {
						"type": "boolean",
						"description": "Determines whether notifications are automatically dismissed"
					},
					"timeout": {
						"type": "integer",
						"description": "Timeout in milliseconds before notifications are dismissed"
					},
					"max_count": {
						"type": "integer",
						"description": "Maximum total number of notifications to keep across all apps"
					},
					"per_app_limits": {
						"type": "object",
						"description": "Maximum number of notifications to keep per specific app",
						"patternProperties": {
							"^.*$": {
								"type": "integer",
								"description": "Maximum number of notifications to keep for this app"
							}
						}
					},
					"play_sound": {
						"type": "boolean",
						"description": "Determines whether to play a sound when a notification is received"
					},
					"sound_file": {
						"type": "string",
						"description": "Name of the sound file to play",
						"enum": [
							"notification1",
							"notification2",
							"notification3",
							"notification4",
							"notification5",
							"notification6",
							"notification7",
							"notification8",
							"notification9",
							"notification10"
						]
					}
				}
			},
			"network_usage": {
				"type": "object",
				"properties": {
					"icon_size": {
						"type": "string",
						"pattern": "^[0-9]+px$",
						"description": "Size of the network usage icon"
					},
					"upload_icon": {
						"type": "string",
						"description": "Icon to display for upload"
					},
					"download_icon": {
						"type": "string",
						"description": "Icon to display for download"
					},
					"tooltip": {
						"type": "boolean",
						"description": "Determines whether the network usage widget has a tooltip"
					},
					"upload": {
						"type": "boolean",
						"description": "Determines whether to show upload usage"
					},
					"download": {
						"type": "boolean",
						"description": "Determines whether to show download usage"
					}
				}
			},
			"recorder": {
				"type": "object",
				"properties": {
					"videos": {
						"type": "string",
						"description": "Directory to save videos"
					},
					"tooltip": {
						"type": "boolean",
						"description": "Determines whether the recorder widget has a tooltip"
					},
					"audio": {
						"type": "boolean",
						"description": "Determines whether to record audio"
					},
					"icon_size": {
						"type": "integer",
						"description": "Size of the recorder icon"
					}
				}
			}
		}
	}
}
